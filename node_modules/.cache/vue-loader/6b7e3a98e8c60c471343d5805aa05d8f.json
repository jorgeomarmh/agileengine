{"remainingRequest":"/var/www/html/agile-engine/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/agile-engine/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/var/www/html/agile-engine/src/App.vue","mtime":1626676321697},{"path":"/var/www/html/agile-engine/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWFpbnsKICBtYXgtd2lkdGg6IDUwdmg7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZnVsbE1vZGFsewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgLyogU3RheSBpbiBwbGFjZSAqLwogIHotaW5kZXg6IDEwMDsgLyogU2l0IG9uIHRvcCAqLwogIHRvcDogMTAlOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC13aWR0aDogMTAwJTsKICBtYXgtaGVpZ2h0OiAxMDAlOwogIHdpZHRoOiAxMDAlIDsKICBoZWlnaHQ6IDEwMCUgOwoKfQoub3BhY2l0eXsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDApOyAvKiBGYWxsYmFjayBjb2xvciAqLwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC40KTsgLyogQmxhY2sgdy8gb3BhY2l0eSAqLwp9Ci5iaWdJbWd7CiAgbWF4LXdpZHRoOiAxMDAlOwogIG1heC1oZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDgwJTsKICBoZWlnaHQ6IDgwJTsKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n       <h2 class=\"center-align\">Photos Galery</h2>\n       <hr>\n     <div class=\"row\">\n        <div class=\"col s10 offset-s1 m4 offset-m4 center\">\n          <div class=\"card\">\n            <div class=\"card-image\">\n              <img :src=\"photo.data.cropped_picture\" :alt=\"photo.id\">\n            </div>\n            <div class=\"card-content\">\n              <p>Autor: {{photo.data.author}}</p>\n              <p>tags: {{photo.data.tags}}</p>\n              <p>camera: {{photo.data.camera}}</p>\n            </div>\n            <div class=\"card-action center-align\">\n              <a @click=\"prev()\"> Prev</a>\n              <a @click=\"openFull()\"> Open Full</a>\n              <a @click=\"next()\"> Next</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div id=\"fullImg\" class=\"row\">\n      </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport M from 'materialize-css'\n\nexport default {\n\n  data(){\n    return{\n      post: {\n        method: 'post',\n        url: 'http://interview.agileengine.com/auth',\n        headers: { \n          'Content-Type': 'text/plain'\n        },\n        data : { apiKey: \"23567b218376f79d9415\" }\n        },\n        photos: [],\n        photo: {\n          data: {}\n        },\n        n: 0,\n        lenght: 0,\n        token: null,\n        page:1\n    }\n  },\n  created(){\n    this.auth()\n  },\n  beforeMount(){\n    M.AutoInit()\n  },\n  methods:{\n    \n    auth(){\n      let self = this\n      axios(this.post).then(function (response) {\n        self.token =  response.data.token\n        self.getPhotos(response.data.token)\n\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    getPhotos(token){\n      let self = this\n      axios({\n        method: 'get',\n        url: 'http://interview.agileengine.com/images?page='+self.page,\n        headers: { \n          'Authorization': 'Bearer ' +token\n        }\n      }).then(function (response) {\n        self.photos = response.data.pictures\n        console.log(self.photos)\n        response.data.pictures.forEach(() => {\n          self.lenght++\n        });\n        self.getMoreDetails(response.data.pictures[0].id)\n        console.log(response.data.pictures[0].id)\n\n      }).catch(function (error) {\n        console.log(error)\n      });\n    },\n    prev(){\n      this.photo = this.photos[this.n = this.n == 0 ? this.lenght - 1 : this.n - 1]\n      this.getMoreDetails(this.photo.id)\n    },\n    next(){\n      this.photo = this.photos[this.n = this.n == this.lenght -1  ? 0 : this.n + 1]\n      this.getMoreDetails(this.photo.id)\n    },\n    getMoreDetails(id){\n      let self = this\n        axios({\n        method: 'get',\n        url: 'http://interview.agileengine.com/images/' + id,\n        headers: { \n          'Authorization': 'Bearer ' +this.token\n        }\n      }).then(function (response) {\n        self.photo = response\n        console.log(response)\n\n      }).catch(function (error) {\n        console.log(error)\n      });\n    },\n    openFull(){\n      document.getElementById(\"fullImg\").classList.add(\"fullModal\")\n      document.body.classList.add(\"opacity\")\n      let img = document.createElement(\"img\")\n      img.id = \"imgFull\"\n      img.classList.add(\"bigImg\", \"s12\")\n      let btn = document.createElement(\"button\")\n      btn.id = \"btnFull\"\n      btn.innerHTML = \"Close\"\n      btn.onclick = this.closeFull\n      btn.classList.add(\"center\", \"s12\", \"btn\", \"red\")\n      img.src = this.photo.data.full_picture\n      document.getElementById('fullImg').appendChild(img)\n      document.getElementById('fullImg').appendChild(btn)\n    },\n    closeFull(){\n      \n      let parent = document.getElementById(\"fullImg\");\n      parent.removeChild(document.getElementById(\"btnFull\"));\n      parent.removeChild(document.getElementById(\"imgFull\"));\n\n      document.getElementById(\"fullImg\").classList.remove(\"fullModal\");\n      document.body.classList.remove(\"opacity\");\n    }\n  }\n}\n</script>\n\n<style>\n.main{\n  max-width: 50vh;\n  display: flex;\n  justify-content: center;\n}\n.fullModal{\n  position: absolute; /* Stay in place */\n  z-index: 100; /* Sit on top */\n  top: 10%;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100% ;\n  height: 100% ;\n\n}\n.opacity{\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n}\n.bigImg{\n  max-width: 100%;\n  max-height: 100%;\n  width: 80%;\n  height: 80%;\n}\n</style>\n"]}]}