{"remainingRequest":"/var/www/html/agile-engine/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/agile-engine/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/agile-engine/src/App.vue","mtime":1626676321697},{"path":"/var/www/html/agile-engine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/agile-engine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/agile-engine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBNIGZyb20gJ21hdGVyaWFsaXplLWNzcycKCmV4cG9ydCBkZWZhdWx0IHsKCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBwb3N0OiB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cDovL2ludGVydmlldy5hZ2lsZWVuZ2luZS5jb20vYXV0aCcsCiAgICAgICAgaGVhZGVyczogeyAKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbicKICAgICAgICB9LAogICAgICAgIGRhdGEgOiB7IGFwaUtleTogIjIzNTY3YjIxODM3NmY3OWQ5NDE1IiB9CiAgICAgICAgfSwKICAgICAgICBwaG90b3M6IFtdLAogICAgICAgIHBob3RvOiB7CiAgICAgICAgICBkYXRhOiB7fQogICAgICAgIH0sCiAgICAgICAgbjogMCwKICAgICAgICBsZW5naHQ6IDAsCiAgICAgICAgdG9rZW46IG51bGwsCiAgICAgICAgcGFnZToxCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICB0aGlzLmF1dGgoKQogIH0sCiAgYmVmb3JlTW91bnQoKXsKICAgIE0uQXV0b0luaXQoKQogIH0sCiAgbWV0aG9kczp7CiAgICAKICAgIGF1dGgoKXsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGF4aW9zKHRoaXMucG9zdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBzZWxmLnRva2VuID0gIHJlc3BvbnNlLmRhdGEudG9rZW4KICAgICAgICBzZWxmLmdldFBob3RvcyhyZXNwb25zZS5kYXRhLnRva2VuKQoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0UGhvdG9zKHRva2VuKXsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9pbnRlcnZpZXcuYWdpbGVlbmdpbmUuY29tL2ltYWdlcz9wYWdlPScrc2VsZi5wYWdlLAogICAgICAgIGhlYWRlcnM6IHsgCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgc2VsZi5waG90b3MgPSByZXNwb25zZS5kYXRhLnBpY3R1cmVzCiAgICAgICAgY29uc29sZS5sb2coc2VsZi5waG90b3MpCiAgICAgICAgcmVzcG9uc2UuZGF0YS5waWN0dXJlcy5mb3JFYWNoKCgpID0+IHsKICAgICAgICAgIHNlbGYubGVuZ2h0KysKICAgICAgICB9KTsKICAgICAgICBzZWxmLmdldE1vcmVEZXRhaWxzKHJlc3BvbnNlLmRhdGEucGljdHVyZXNbMF0uaWQpCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5waWN0dXJlc1swXS5pZCkKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICB9KTsKICAgIH0sCiAgICBwcmV2KCl7CiAgICAgIHRoaXMucGhvdG8gPSB0aGlzLnBob3Rvc1t0aGlzLm4gPSB0aGlzLm4gPT0gMCA/IHRoaXMubGVuZ2h0IC0gMSA6IHRoaXMubiAtIDFdCiAgICAgIHRoaXMuZ2V0TW9yZURldGFpbHModGhpcy5waG90by5pZCkKICAgIH0sCiAgICBuZXh0KCl7CiAgICAgIHRoaXMucGhvdG8gPSB0aGlzLnBob3Rvc1t0aGlzLm4gPSB0aGlzLm4gPT0gdGhpcy5sZW5naHQgLTEgID8gMCA6IHRoaXMubiArIDFdCiAgICAgIHRoaXMuZ2V0TW9yZURldGFpbHModGhpcy5waG90by5pZCkKICAgIH0sCiAgICBnZXRNb3JlRGV0YWlscyhpZCl7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9pbnRlcnZpZXcuYWdpbGVlbmdpbmUuY29tL2ltYWdlcy8nICsgaWQsCiAgICAgICAgaGVhZGVyczogeyAKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICt0aGlzLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHNlbGYucGhvdG8gPSByZXNwb25zZQogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5GdWxsKCl7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmdWxsSW1nIikuY2xhc3NMaXN0LmFkZCgiZnVsbE1vZGFsIikKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCJvcGFjaXR5IikKICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpCiAgICAgIGltZy5pZCA9ICJpbWdGdWxsIgogICAgICBpbWcuY2xhc3NMaXN0LmFkZCgiYmlnSW1nIiwgInMxMiIpCiAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKQogICAgICBidG4uaWQgPSAiYnRuRnVsbCIKICAgICAgYnRuLmlubmVySFRNTCA9ICJDbG9zZSIKICAgICAgYnRuLm9uY2xpY2sgPSB0aGlzLmNsb3NlRnVsbAogICAgICBidG4uY2xhc3NMaXN0LmFkZCgiY2VudGVyIiwgInMxMiIsICJidG4iLCAicmVkIikKICAgICAgaW1nLnNyYyA9IHRoaXMucGhvdG8uZGF0YS5mdWxsX3BpY3R1cmUKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bGxJbWcnKS5hcHBlbmRDaGlsZChpbWcpCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdWxsSW1nJykuYXBwZW5kQ2hpbGQoYnRuKQogICAgfSwKICAgIGNsb3NlRnVsbCgpewogICAgICAKICAgICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmdWxsSW1nIik7CiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuRnVsbCIpKTsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWdGdWxsIikpOwoKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZ1bGxJbWciKS5jbGFzc0xpc3QucmVtb3ZlKCJmdWxsTW9kYWwiKTsKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCJvcGFjaXR5Iik7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n       <h2 class=\"center-align\">Photos Galery</h2>\n       <hr>\n     <div class=\"row\">\n        <div class=\"col s10 offset-s1 m4 offset-m4 center\">\n          <div class=\"card\">\n            <div class=\"card-image\">\n              <img :src=\"photo.data.cropped_picture\" :alt=\"photo.id\">\n            </div>\n            <div class=\"card-content\">\n              <p>Autor: {{photo.data.author}}</p>\n              <p>tags: {{photo.data.tags}}</p>\n              <p>camera: {{photo.data.camera}}</p>\n            </div>\n            <div class=\"card-action center-align\">\n              <a @click=\"prev()\"> Prev</a>\n              <a @click=\"openFull()\"> Open Full</a>\n              <a @click=\"next()\"> Next</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div id=\"fullImg\" class=\"row\">\n      </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport M from 'materialize-css'\n\nexport default {\n\n  data(){\n    return{\n      post: {\n        method: 'post',\n        url: 'http://interview.agileengine.com/auth',\n        headers: { \n          'Content-Type': 'text/plain'\n        },\n        data : { apiKey: \"23567b218376f79d9415\" }\n        },\n        photos: [],\n        photo: {\n          data: {}\n        },\n        n: 0,\n        lenght: 0,\n        token: null,\n        page:1\n    }\n  },\n  created(){\n    this.auth()\n  },\n  beforeMount(){\n    M.AutoInit()\n  },\n  methods:{\n    \n    auth(){\n      let self = this\n      axios(this.post).then(function (response) {\n        self.token =  response.data.token\n        self.getPhotos(response.data.token)\n\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    getPhotos(token){\n      let self = this\n      axios({\n        method: 'get',\n        url: 'http://interview.agileengine.com/images?page='+self.page,\n        headers: { \n          'Authorization': 'Bearer ' +token\n        }\n      }).then(function (response) {\n        self.photos = response.data.pictures\n        console.log(self.photos)\n        response.data.pictures.forEach(() => {\n          self.lenght++\n        });\n        self.getMoreDetails(response.data.pictures[0].id)\n        console.log(response.data.pictures[0].id)\n\n      }).catch(function (error) {\n        console.log(error)\n      });\n    },\n    prev(){\n      this.photo = this.photos[this.n = this.n == 0 ? this.lenght - 1 : this.n - 1]\n      this.getMoreDetails(this.photo.id)\n    },\n    next(){\n      this.photo = this.photos[this.n = this.n == this.lenght -1  ? 0 : this.n + 1]\n      this.getMoreDetails(this.photo.id)\n    },\n    getMoreDetails(id){\n      let self = this\n        axios({\n        method: 'get',\n        url: 'http://interview.agileengine.com/images/' + id,\n        headers: { \n          'Authorization': 'Bearer ' +this.token\n        }\n      }).then(function (response) {\n        self.photo = response\n        console.log(response)\n\n      }).catch(function (error) {\n        console.log(error)\n      });\n    },\n    openFull(){\n      document.getElementById(\"fullImg\").classList.add(\"fullModal\")\n      document.body.classList.add(\"opacity\")\n      let img = document.createElement(\"img\")\n      img.id = \"imgFull\"\n      img.classList.add(\"bigImg\", \"s12\")\n      let btn = document.createElement(\"button\")\n      btn.id = \"btnFull\"\n      btn.innerHTML = \"Close\"\n      btn.onclick = this.closeFull\n      btn.classList.add(\"center\", \"s12\", \"btn\", \"red\")\n      img.src = this.photo.data.full_picture\n      document.getElementById('fullImg').appendChild(img)\n      document.getElementById('fullImg').appendChild(btn)\n    },\n    closeFull(){\n      \n      let parent = document.getElementById(\"fullImg\");\n      parent.removeChild(document.getElementById(\"btnFull\"));\n      parent.removeChild(document.getElementById(\"imgFull\"));\n\n      document.getElementById(\"fullImg\").classList.remove(\"fullModal\");\n      document.body.classList.remove(\"opacity\");\n    }\n  }\n}\n</script>\n\n<style>\n.main{\n  max-width: 50vh;\n  display: flex;\n  justify-content: center;\n}\n.fullModal{\n  position: absolute; /* Stay in place */\n  z-index: 100; /* Sit on top */\n  top: 10%;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100% ;\n  height: 100% ;\n\n}\n.opacity{\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n}\n.bigImg{\n  max-width: 100%;\n  max-height: 100%;\n  width: 80%;\n  height: 80%;\n}\n</style>\n"]}]}